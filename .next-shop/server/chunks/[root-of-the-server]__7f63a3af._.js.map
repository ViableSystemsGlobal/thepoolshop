{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/nanasasu/Desktop/adpoolsgroup/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///Users/nanasasu/Desktop/adpoolsgroup/src/app/api/public/shop/auth/me/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\nimport { cookies } from 'next/headers';\nimport { verify } from 'jsonwebtoken';\n\nconst JWT_SECRET = process.env.NEXTAUTH_SECRET || 'adpools-secret-key-2024-production-change-me';\n\nexport async function GET() {\n  try {\n    const cookieStore = await cookies();\n    const token = cookieStore.get('customer_token')?.value;\n\n    if (!token) {\n      return NextResponse.json(\n        { error: 'Not authenticated' },\n        { status: 401 }\n      );\n    }\n\n    // Verify token\n    let decoded: any;\n    try {\n      decoded = verify(token, JWT_SECRET);\n    } catch (error) {\n      return NextResponse.json(\n        { error: 'Invalid token' },\n        { status: 401 }\n      );\n    }\n\n    if (decoded.type !== 'customer') {\n      return NextResponse.json(\n        { error: 'Invalid token type' },\n        { status: 401 }\n      );\n    }\n\n    // Get customer\n    const customer = await prisma.customer.findUnique({\n      where: { id: decoded.id },\n      select: {\n        id: true,\n        email: true,\n        firstName: true,\n        lastName: true,\n        phone: true,\n        emailVerified: true,\n        phoneVerified: true,\n        createdAt: true,\n        lastLoginAt: true,\n      },\n    });\n\n    if (!customer) {\n      return NextResponse.json(\n        { error: 'Customer not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json({ customer });\n  } catch (error) {\n    console.error('Error fetching customer:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch customer' },\n      { status: 500 }\n    );\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,aAAa,QAAQ,GAAG,CAAC,eAAe,IAAI;AAE3C,eAAe;IACpB,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,uKAAO;QACjC,MAAM,QAAQ,YAAY,GAAG,CAAC,mBAAmB;QAEjD,IAAI,CAAC,OAAO;YACV,OAAO,2KAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAoB,GAC7B;gBAAE,QAAQ;YAAI;QAElB;QAEA,eAAe;QACf,IAAI;QACJ,IAAI;YACF,UAAU,IAAA,4KAAM,EAAC,OAAO;QAC1B,EAAE,OAAO,OAAO;YACd,OAAO,2KAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAgB,GACzB;gBAAE,QAAQ;YAAI;QAElB;QAEA,IAAI,QAAQ,IAAI,KAAK,YAAY;YAC/B,OAAO,2KAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAqB,GAC9B;gBAAE,QAAQ;YAAI;QAElB;QAEA,eAAe;QACf,MAAM,WAAW,MAAM,2JAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;YAChD,OAAO;gBAAE,IAAI,QAAQ,EAAE;YAAC;YACxB,QAAQ;gBACN,IAAI;gBACJ,OAAO;gBACP,WAAW;gBACX,UAAU;gBACV,OAAO;gBACP,eAAe;gBACf,eAAe;gBACf,WAAW;gBACX,aAAa;YACf;QACF;QAEA,IAAI,CAAC,UAAU;YACb,OAAO,2KAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAqB,GAC9B;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,2KAAY,CAAC,IAAI,CAAC;YAAE;QAAS;IACtC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,2KAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA2B,GACpC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}